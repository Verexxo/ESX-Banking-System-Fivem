<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.12.1/datatables.min.css"/>
		<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
		<link rel="stylesheet" href="css/app.css" type="text/css" />
		<script src="scripts/app.js"></script>
	</head>

	<div class="pincode" id="pincode">
		<div class="atm-cont">
			<div class="panel-box">
				<p style="font-size: 20px; font-weight: 500;">Podaj PIN</p>
				<div class="pin-indicator" id="pin-indicator">
					<div class="pin-circle"></div>
					<div class="pin-circle"></div>
					<div class="pin-circle"></div>
					<div class="pin-circle"></div>
				</div>
				
				<div class="pin-panel">
					<div class="button" onclick="enterPin(1)">1</div>
					<div class="button" onclick="enterPin(2)">2</div>
					<div class="button" onclick="enterPin(3)">3</div>
					<div class="button" onclick="enterPin(4)">4</div>
					<div class="button" onclick="enterPin(5)">5</div>
					<div class="button" onclick="enterPin(6)">6</div>
					<div class="button" onclick="enterPin(7)">7</div>
					<div class="button" onclick="enterPin(8)">8</div>
					<div class="button" onclick="enterPin(9)">9</div>
					<div class="button" onclick="enterPin('backup')"><img style="width: 24px; height: 24px;" src="back.png" alt=""></div>
					<div class="button" onclick="enterPin(0)">0</div>
					<div class="button" onclick="enterPin('done')"><img src="done.svg" alt=""></div>
				</div>
		
			</div>
		</div>
	</div>

	<div class="atm" id="atm">
		<div class="atm-open">
			<div class="atm-top" >
				<div class="atm-logout" onclick="exit()">
					<img src="log.png" alt="">
					<p>WYLOGUJ</p>
				</div>
			</div>

			<div class="wyplac-1" style="top: 50%; left: 25%; margin-top: 8%;">
				<div class="wyplac-2">
					<p>Stan Konta:</p>
					<div class="stan">
						<p class="money-bank">100000$</p>
					</div>
				</div>
				<div class="wyplac-3">
					<p>Wypłać:</p>
					<div class="stan-input">
						<input type="text" id="input-wyplac2" placeholder="Podaj kwotę">
					</div>
					
				</div>
				<div class="button-container">
					<button class="potwierdz-button" id="button-wyplac" onclick="wyplacatm()">Potwierdź</button>
				</div>
				
			</div>
			
		</div>
	</div>


	<div class="loader" id="loader">
        <div class="box-1">
            <div class="href-box" id="home-dupa" onclick="showTab('home')">
                <img src="home.png" alt="">
                <p>HOME</p>
            </div>
            <br>
            <div class="href-box" onclick="showTab('wplac')">
                <img src="wid.png" alt="">
                <p>WPŁAC</p>
            </div>
            <br>
            <div class="href-box" onclick="showTab('wyplac')">
                <img src="dep.png" alt="">
                <p>WYPŁAC</p>
            </div>
            <br>
            <div class="href-box" onclick="showTab('przelej')">
                <img src="prze.png" alt="">
                <p>PRZELEJ</p>
            </div>
            <div class="href-box-2" onclick="showTab('ustawienia')">
                <img src="set.png" alt="">
                <p class="ust">USTAWIENIA</p>
            </div>
            <div class="href-box-2" onclick="exit()">
                <img src="log.png" alt="">
                <p class="ust">WYLOGUJ</p>
            </div>
        </div>

        <div class="box-2">
            <div class="d" id="home">
				<div class="home">

					<div class="home-1">
						<div class="home-stan">
							<div class="home-stan-1">
								<br>
								
								<p>Stan Konta:</p>
								<div class="stan">
									<p class="money-bank">100000$</p>
								</div>
								<br>
								<p>Gotówka:</p>
								<div class="stan">
									<p class="money-eq">100000$</p>
								</div>
								
							</div>
						</div>

					</div>
					<div class="home-2">
						<div class="home-historia">
							<div class="home-hostoria-1">
								<p class="hist">Historia</p>
								<div class="box-historia-1">
									<p>Typ</p>
									<p>Kwota</p>
									<p>Data</p>
								</div>
								<div id="transactionContainer" >
									
								</div>
								
							</div>
						</div>
					</div>
				</div>
				
				
			</div>
            <div class="d" id="wplac">
				<div class="wplac-1">
					<div class="wyplac-2">
						<p>Stan Konta:</p>
						<div class="stan">
							<p class="money-bank">100000$</p>
						</div>
					</div>
					<div class="wyplac-3">
						<p>Wpłać:</p>
						<div class="stan-input">
							<input type="text" id="input-wplac" placeholder="Podaj kwotę">
						</div>
						
					</div>
					<div class="button-container">
						<button class="potwierdz-button" id="button-1" onclick="wplac()">Potwierdź</button>
					</div>
				</div>
				
			</div>
			<div class="d" id="wyplac">
				<div class="wyplac-1">
					<div class="wyplac-2">
						<p>Stan Konta:</p>
						<div class="stan">
							<p class="money-bank">100000$</p>
						</div>
					</div>
					<div class="wyplac-3">
						<p>Wypłać:</p>
						<div class="stan-input">
							<input type="text" id="input-wyplac" placeholder="Podaj kwotę">
						</div>
						
					</div>
					<div class="button-container">
						<button class="potwierdz-button" id="button-wyplac" onclick="wyplac()">Potwierdź</button>
					</div>
					
				</div>

			</div>
            <div class="d" id="przelej">
				<div class="wyplac-1">
					<div class="wyplac-2">
						<p>Stan Konta:</p>
						<div class="stan">
							<p class="money-bank">100000$</p>
						</div>
					</div>
					<div class="wyplac-3">
						<p>Przelej:</p>
						<div class="dupa stan-input">
							<input type="text" id="transfer-id" placeholder="ID Gracza">
						</div>
						<div class="stan-input">
							<input type="text" id="transfer-kwota" placeholder="Podaj kwotę">
						</div>
						
					</div>
					<div class="button-container">
						<button class="potwierdz-button" onclick="transfer()">Potwierdź</button>
					</div>
					
				</div>

			</div>
            <div class="d" id="ustawienia">
				<div class="ust wyplac-1">
					<div class="wyplac-3">
						<br>
						<p>KOD PIN:</p>
						<div class="stan-input">
							<input type="text" id="input-uppin" maxlength="4" placeholder="Podaj PIN">
						</div>
						
					</div>
					<div class="button-container">
						<button class="potwierdz-button" onclick="pin()">Potwierdź</button>
					</div>
					
				</div>


			</div>
        </div>
    </div>
	<script src="scripts/app.js"></script>
    <script>
	let enteredPin = '';
    const pinCircles = document.querySelectorAll('.pin-circle');

    function enterPin(value) {
        if (value === 'backup') {
            enteredPin = enteredPin.slice(0, -1); 
        } else if (value === 'done') {
			wpispin = enteredPin;
			enteredPin = '';
			sprpin()
            
        } else {
            if (enteredPin.length < 4) {
                enteredPin += value;
            }
        }

        updateDisplay();
    }

    function updateDisplay() {
        pinCircles.forEach((circle, index) => {
            if (index < enteredPin.length) {
                circle.classList.add('pin-circle-filled');
            } else {
                circle.classList.remove('pin-circle-filled');
            }
        });

    }

		function handleNumericInput(event) {
			
			let inputValue = event.target.value;
			let numericValue = inputValue.replace(/[^0-9]/g, '');
			event.target.value = numericValue;
   		}

	
		let inputElements = document.querySelectorAll('input');
			inputElements.forEach(function (inputElement) {
				inputElement.addEventListener('input', handleNumericInput);
		});


		window.onload = showDefaultTab;
		function showDefaultTab() {
            showTab('home');
        }

        function showTab(tabId) {
            
            var tabs = document.querySelectorAll('.box-2 > div');
            tabs.forEach(function(tab) {
                tab.style.display = 'none';
				clearInputs()
            });

            
            var selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.style.display = 'block';
				
            }
        }
		
    </script>
	</body>
</html>
